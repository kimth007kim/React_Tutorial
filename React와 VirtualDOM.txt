React and Virtual DOM

View가 모델을 받아서 스케치를 하고 React에다가 전달한다.
React 는 정확하고 빠른 메모리 저장소이다.


리액트는 왜쓸까?

가상돔에대한 이해

1)브라우저가 HTML을 그리는과정
브라우저는 html을 읽어서 DOM트리, CSS트리를 만들고 DOM이 화면에 있어야할 위치를 잡고 거기에 색을 채운다.
이러한과정이 많던 복잡하던 문제가 되지않는다 하지만 html이 자바스크립트를 이용해서 DOM을 수시로 변경해달라고하면
브라우저는 또 착한녀석이라 일을 요청이 오는대로 해결한다.

노드가 1000개쯤있는 DOM트리를 뒤져서 특정 노드를 찾아서 width넓히고 다시CSS트리를 만들고 합치고 화면에 스케치하고 색을채운다.
DOM수정요청이 100번오면 브라우저는 위의 같은일을 100번한다.

즉 브라우저는 실시간 DOM수정요청으로 그림을 다시그리는데 , 효율적이지 못하다.

가상돔이 브라우저의 단점을 도와준다.
100번의 DOM 수정요청이 오면, 가상 돔은 브라우저 대신 DOM변경을 인지하고 그내용을 가상돔에 반영한다. (아직 화면에 안그림)
(가상돔은 정확하게 어떤것들이 그려졌었고 수정되었는지 안다.)
이변화를 반영한 가상돔의 내용을 브라우저에게 전달하여 그리게한다.(100번 그리던것을 1번만 그린다.)


React라는 것은 무엇인가?

React는 사용자 인터페이스를 구축하기 위한 선언적이고 효율적이며 유연한 JavaScript 라이브러리입니다. "컴포넌트"라고 불리는 작고 고립된
코드의 파편을 이용해서 복잡한 UI 구성을 돕는다.

React는 몇가지 컴포넌트를 가지지만 우리는 React.Component의 하위 클래스를 사용했다.
class ShoppingList extends React.Component {
  render() {
    return (
      <div className="shopping-list">
        <h1>Shopping List for {this.props.name}</h1>
        <ul>
          <li>Instagram</li>
          <li>WhatsApp</li>
          <li>Oculus</li>
        </ul>
      </div>
    );
  }
}

XML과 유사한 재밌는 태그를 사용할것이다. React에게 화면에 표현하고 싶은것이 무엇인지 알려준다. 데이터가 변경될떄 React는 컴포넌트를 효율적으로 업데이트하고 다시 렌더링한다.

여기에서 ShoppingList는 React 컴포넌트 클래스 또는 React 컴포넌트 타입이다.
개별컴포넌트는 props라는 매개변수를 받아오고 render 함수를 통해 표시할 뷰 계층 구조를 반환한다.


render 함수는 화면에서 보고자 하는 내용을 반환한다.
React는 설명을 전달받고 결과를 표시합니다. 특히 render는 렌더링 할 내용을 경량화한 React 엘리먼트를 반환합니다. 
다수의 React 개발자는 "JSX"라는 특수한 문법을 사용하여 React의 구조를 보다 쉽게 작성한다. 
<div /> 구문은 빌드를 하는 시점에서 React.createElement('div') 로 변환된다.

JSX는 Javascript의 가엵한 기능을 가지고있다. JSX 내부의 중괄호에는 어떤 JavaScript 표현식도 사용할수 있다.
React 엘리먼트는  Javascript 객체이며 변수에 저장하거나 프로그램 여기저기에 전달 가능하다.

ShoppingList 컴포넌트는 <div/>와 </li> 같은 내각 DOM 컴포넌트만을 렌더링하지만 컴포넌트를 조합하여 커스텀 React 컴포넌트를 렌더링 하는것도 가능하다.
EX)
<shoppingList/> 를 작성하여 모든 쇼핑목록을 참조할수도 있다. React 컴포넌트는 캡슐화되어 독립적으로 동작할수도있다.
이러한 이유로 단순한 컴포넌트를 사용하여 복잡한 UI를 구현할수있다.







